(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,c){},120:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){"use strict";c.r(t);var r,a=c(1),n=c.n(a),s=c(24),i=c.n(s),o=c(4),l=c(9),d=c(42),j=c(74),u=c(75),b=c(10),O="USER_LOGIN_REQUEST",h="USER_LOGIN_SUCESS",p="USER_LOGIN_FAIL",x="USER_LOGIN_RESET",m="USER_LOGOUT",g="USER_REGISTER_REQUEST",v="USER_REGISTER_SUCESS",f="USER_REGISTER_FAIL",E="USER_DETAILS_REQUEST",S="USER_DETAILS_SUCESS",I="USER_DETAILS_FAIL",y="USER_DETAILS_RESET",C="USER_LIST_REQUEST",T="USER_LIST_SUCESS",L="USER_LIST_FAIL",R="USER_LIST_RESET",U="USER_DELETE_REQUEST",_="USER_DELETE_SUCESS",N="USER_DELETE_FAIL",A="USER_DELETE_RESET",D="USER_UPDATE_REQUEST",k="USER_UPDATE_SUCESS",w="USER_UPDATE_FAIL",F="USER_UPDATE_RESET",P="USER_UPDATE_PROFILE_REQUEST",G="USER_UPDATE_PROFILE_SUCESS",Q="USER_UPDATE_PROFILE_FAIL",q="USER_UPDATE_PROFILE_RESET",z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case k:return{loading:!1,success:!0,user:t.payload};case w:return{loading:!1,success:!1,error:t.payload};case F:return{loading:!1,error:null,success:!1};default:return e}},H="PRODUCT_REGISTER_REQUEST",J="PRODUCT_REGISTER_SUCESS",B="PRODUCT_REGISTER_FAIL",M="PRODUCT_REGISTER_RESET",$="PRODUCT_DETAILS_REQUEST",X="PRODUCT_DETAILS_SUCESS",W="PRODUCT_DETAILS_FAIL",V="PRODUCT_DETAILS_RESET",Z="PRODUCT_LIST_REQUEST",K="PRODUCT_LIST_SUCESS",Y="PRODUCT_LIST_FAIL",ee="PRODUCT_LIST_RESET",te="PRODUCT_SEARCH_REQUEST",ce="PRODUCT_SEARCH_SUCESS",re="PRODUCT_SEARCH_FAIL",ae="PRODUCT_SEARCH_RESET",ne="PRODUCT_DELETE_REQUEST",se="PRODUCT_DELETE_SUCESS",ie="PRODUCT_DELETE_FAIL",oe="PRODUCT_DELETE_RESET",le="PRODUCT_UPDATE_REQUEST",de="PRODUCT_UPDATE_SUCESS",je="PRODUCT_UPDATE_FAIL",ue="PRODUCT_UPDATE_RESET",be="CATEGORIE_REGISTER_REQUEST",Oe="CATEGORIE_REGISTER_SUCESS",he="CATEGORIE_REGISTER_FAIL",pe="CATEGORIE_REGISTER_RESET",xe="CATEGORIE_DETAILS_REQUEST",me="CATEGORIE_DETAILS_SUCESS",ge="CATEGORIE_DETAILS_FAIL",ve="CATEGORIE_DETAILS_RESET",fe="CATEGORIE_LIST_REQUEST",Ee="CATEGORIE_LIST_SUCESS",Se="CATEGORIE_LIST_FAIL",Ie="CATEGORIE_UPDATE_REQUEST",ye="CATEGORIE_UPDATE_SUCESS",Ce="CATEGORIE_UPDATE_FAIL",Te="CATEGORIE_UPDATE_RESET",Le=c(35),Re="CART_ADD_ITEM",Ue="CART_REMOVE_ITEM",_e="CART_CLEAR_ITEMS",Ne="ORDER_CREATE_REQUEST",Ae="ORDER_CREATE_SUCESS",De="ORDER_CREATE_FAIL",ke="ORDER_CREATE_RESET",we="ORDER_DETAILS_REQUEST",Fe="ORDER_DETAILS_SUCESS",Pe="ORDER_DETAILS_FAIL",Ge="ORDER_DETAILS_RESET",Qe="ORDER_LIST_REQUEST",qe="ORDER_LIST_SUCESS",ze="ORDER_LIST_FAIL",He="ORDER_LIST_RESET",Je="ORDER_UPDATE_REQUEST",Be="ORDER_UPDATE_SUCESS",Me="ORDER_UPDATE_FAIL",$e="ORDER_UPDATE_RESET",Xe=Object(d.combineReducers)((r={userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case T:return{loading:!1,users:t.payload};case L:return{loading:!1,error:t.payload};case R:return{users:null,success:!1,loading:!1,error:null};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case _:return{loading:!1,success:!0};case N:return{loading:!1,error:t.payload};case A:return{loading:!1,error:null,success:null};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case S:return{loading:!1,user:t.payload};case I:return{loading:!1,error:t.payload};case y:return{user:{}};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case h:return localStorage.setItem("userInfo",JSON.stringify(t.payload)),{loading:!1,success:!0,userInfo:t.payload};case p:return{loading:!1,success:!1,error:t.payload};case x:return{loading:!1,success:!1,error:null};case m:return localStorage.removeItem("userInfo"),{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case v:return{loading:!1,success:!0,userInfo:t.payload};case f:return{loading:!1,success:!1,error:t.payload};case m:return{};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{loading:!0};case G:return{loading:!1,success:!0,user:t.payload};case Q:return{loading:!1,success:!1,error:t.payload};case q:return{};default:return e}},userUpdate:z},Object(l.a)(r,"userUpdate",z),Object(l.a)(r,"productRegister",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,product:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{loading:!0,success:!1};case J:return{loading:!1,success:!0,product:t.payload};case B:return{loading:!1,success:!1,error:t.payload};case M:return{loading:!1,success:!1,error:null};default:return e}})),Object(l.a)(r,"productList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,products:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0,success:!1};case K:return{loading:!1,success:!0,products:t.payload};case Y:return{loading:!1,success:!1,error:t.payload};case ee:default:return e}})),Object(l.a)(r,"productUpdate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,product:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{loading:!0,success:!1};case de:return{loading:!1,success:!0,product:t.payload};case je:return{loading:!1,success:!1,error:t.payload};case ue:return{loading:!1,success:!1,error:null};default:return e}})),Object(l.a)(r,"productDetails",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0,success:!1};case X:return{loading:!1,success:!0,product:t.payload};case W:return{loading:!1,success:!1,error:t.payload};case V:return{loading:!1,success:!1,error:null,product:null};default:return e}})),Object(l.a)(r,"productDelete",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,success:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{loading:!0,success:!1};case se:return{loading:!1,success:!0,product:t.payload};case ie:return{loading:!1,success:!1,error:t.payload};case oe:default:return e}})),Object(l.a)(r,"productSearch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,products:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0,success:!1};case ce:return{loading:!1,success:!0,products:t.payload};case re:return{loading:!1,success:!1,error:t.payload};case ae:default:return e}})),Object(l.a)(r,"categorieRegister",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,product:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{loading:!0,success:!1};case Oe:return{loading:!1,success:!0,categorie:t.payload};case he:return{loading:!1,success:!1,error:t.payload};case pe:return{loading:!1,success:!1,error:null};default:return e}})),Object(l.a)(r,"categorieList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,categories:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{loading:!0,success:!1};case Ee:return{loading:!1,success:!0,categories:t.payload};case Se:return{loading:!1,success:!1,error:t.payload};default:return e}})),Object(l.a)(r,"categorieDetails",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,categorie:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return{loading:!0,success:!1};case me:return{loading:!1,success:!0,categorie:t.payload};case ge:return{loading:!1,success:!1,error:t.payload};case ve:return{loading:!1,success:!1,error:null,categorie:null};default:return e}})),Object(l.a)(r,"categorieUpdate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,categorie:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!0,success:!1};case ye:return{loading:!1,success:!0,categorie:t.payload};case Ce:return{loading:!1,success:!1,error:t.payload};case Te:return{loading:!1,success:!1,error:null,categorie:null};default:return e}})),Object(l.a)(r,"cart",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(b.a)(Object(b.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(b.a)(Object(b.a)({},e),{},{cartItems:[].concat(Object(Le.a)(e.cartItems),[c])});case Ue:return Object(b.a)(Object(b.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case _e:return Object(b.a)(Object(b.a)({},e),{},{cartItems:[]});default:return e}})),Object(l.a)(r,"orderCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,order:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return{loading:!0,success:!1};case Ae:return{loading:!1,success:!0,order:t.payload};case De:return{loading:!1,success:!1,error:t.payload};case ke:return{loading:!1,success:!1,error:null};default:return e}})),Object(l.a)(r,"orderList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,orders:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return{loading:!0,success:!1};case qe:return{loading:!1,success:!0,orders:t.payload};case ze:return{loading:!1,success:!1,error:t.payload};case He:return{loading:!1,success:!1,error:null,orders:null};default:return e}})),Object(l.a)(r,"orderDetails",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,order:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return{loading:!0,success:!1};case Fe:return{loading:!1,success:!0,order:t.payload.order,items:t.payload.items};case Pe:return{loading:!1,success:!1,error:t.payload};case Ge:return{loading:!1,success:!1,error:null};default:return e}})),Object(l.a)(r,"orderUpdate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,order:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return{loading:!0,success:!1};case Be:return{loading:!1,success:!0,order:t.payload};case Me:return{loading:!1,success:!1,error:t.payload};case $e:return{loading:!1,success:!1,error:null,order:null};default:return e}})),r)),We=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Ve={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},userLogin:{userInfo:We}},Ze=[j.a],Ke=Object(d.createStore)(Xe,Ve,Object(u.composeWithDevTools)(d.applyMiddleware.apply(void 0,Ze))),Ye=(c(89),c(8)),et=c(13),tt=c(76),ct=c(0);function rt(){return Object(ct.jsxs)("div",{id:"home-header",children:[Object(ct.jsx)("h1",{className:"text-center",children:"Encuentra herramientas, maquinaria, etc"}),Object(ct.jsx)(Ye.Link,{to:"/products/",children:Object(ct.jsx)(tt.a,{variant:"warning",children:"Ver productos"})})]})}var at=c(138),nt=c(127),st=c(77);function it(e){var t=e.product,c=Object(o.c)((function(e){return e.userLogin})).userInfo;return Object(ct.jsxs)(at.a,{className:"my-3 p-3 mw-100 mh-100",children:[Object(ct.jsx)(Ye.Link,{to:"/product/".concat(null===t||void 0===t?void 0:t.id),children:Object(ct.jsx)("div",{className:"w-auto",children:Object(ct.jsx)("img",{className:"rounded img-responsive m-auto d-block",style:{height:"30vh",width:"100%"},alt:"Producto que se vende",src:null===t||void 0===t?void 0:t.img})})}),Object(ct.jsxs)(at.a.Body,{children:[Object(ct.jsx)(at.a.Title,{children:null===t||void 0===t?void 0:t.name}),Object(ct.jsx)(at.a.Text,{as:"div",children:Object(ct.jsxs)("div",{className:"my-2",children:[null===t||void 0===t?void 0:t.description.substring(0,25),"..."]})}),Object(ct.jsxs)(at.a.Text,{as:"h3",children:["$ ",null===t||void 0===t?void 0:t.price]}),Object(ct.jsxs)(nt.a,{children:[Object(ct.jsx)(st.a,{md:8,children:Object(ct.jsx)(Ye.Link,{to:"/product/".concat(null===t||void 0===t?void 0:t.id),style:{textDecoration:"none"},children:Object(ct.jsxs)(tt.a,{className:"d-block w-100",variant:"success",children:[Object(ct.jsx)("i",{class:"fas fa-hard-hat"})," ","Detalles"]})})}),Object(ct.jsx)(st.a,{md:4,children:Object(ct.jsx)(Ye.Link,{to:c?"/cart/".concat(t.id,"?qty=1"):"/login",style:{textDecoration:"none"},children:Object(ct.jsx)(tt.a,{className:"d-block w-100",variant:"primary",children:Object(ct.jsx)("i",{class:"fas fa-shopping-cart"})})})})]})]})]})}var ot=c(128);function lt(e){var t=e.products;try{null===t||void 0===t?void 0:t.values().next().value.categorie}catch(c){}return Object(ct.jsx)(ot.a,{className:"",children:Object(ct.jsx)(nt.a,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(ct.jsx)(st.a,{lg:3,md:4,sm:6,xs:6,className:"justify-content-center align-items-center",children:Object(ct.jsx)(it,{product:e})},null===t||void 0===t?void 0:t.indexOf(e))}))})})}var dt=c(129);function jt(){return Object(ct.jsx)(dt.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",display:"block",margin:"auto"}})}var ut=c(36),bt=c.n(ut),Ot=c(48),ht=c(49),pt=c.n(ht),xt=function(e,t,c,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var n=Object(Ot.a)(bt.a.mark((function n(s){var i,o,l,d,j,u,b;return bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.REQUEST,o=r.SUCESS,l=r.FAIL,n.prev=1,s({type:i}),n.next=5,pt()({method:t,url:e,data:c,headers:{"Content-Type":a?"multipart/form-data":"application/json"}});case 5:d=n.sent,j=d.data,s({type:o,payload:j}),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),u=JSON.stringify(n.t0.response.data.detail),b=u.replace(/['"]+/g,""),s({type:l,payload:b});case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()};function mt(e){var t=Object(o.b)(),c=Object(o.c)((function(e){return e.productList})),r=c.loading,n=c.products,s=(c.error,Object(o.c)((function(e){return e.categorieList}))),i=s.loading,l=s.categories,d=(s.error,Object(o.c)((function(e){return e.userLogin})).userInfo);return Object(a.useEffect)((function(){t(xt("/api/products/getproducts/","GET",{},{SUCESS:K,FAIL:Y,REQUEST:Z})),t(xt("/api/categories/getcategories/","GET",{},{SUCESS:Ee,FAIL:Se,REQUEST:fe}))}),[d,e]),Object(ct.jsx)(ct.Fragment,{children:i||r?Object(ct.jsx)(ot.a,{style:{minHeight:"80vh",paddingTop:"5rem"},children:Object(ct.jsx)(jt,{})}):Object(ct.jsx)(ot.a,{children:null===l||void 0===l?void 0:l.map((function(e){return Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsx)("h3",{className:"mt-3 border-top border-warning border-3 pt-2 rounded",children:e.name}),Object(ct.jsx)(lt,{products:null===n||void 0===n?void 0:n.filter((function(t){return t.categorie===e.id}))})]})}))})})}function gt(){return Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsx)(rt,{}),Object(ct.jsx)(mt,{}),Object(ct.jsx)(lt,{})]})}var vt=c(11),ft=c(133),Et=c(135);function St(e){var t=e.variant,c=e.children,r=n.a.useState(!0),a=Object(vt.a)(r,2),s=a[0],i=a[1];return s?Object(ct.jsx)(Et.a,{variant:t,onClose:function(){return i(!s)},children:c}):null}var It={name:"",lastName:"",email:"",password:""};function yt(e){var t=e.history,c=Object(a.useState)(It),r=Object(vt.a)(c,2),n=r[0],s=r[1],i=n.name,d=n.lastName,j=n.email,u=n.password,x=Object(a.useState)(""),m=Object(vt.a)(x,2),E=m[0],S=m[1],I=Object(o.c)((function(e){return e.userRegister})),y=I.loading,C=I.error,T=I.success,L=I.userInfo,R=Object(o.c)((function(e){return e.userLogin})).success,U=Object(o.b)(),_=function(e){s(Object(b.a)(Object(b.a)({},n),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){T&&U(xt("/api/users/login/","POST",n,{SUCESS:h,REQUEST:O,FAIL:p}))}),[T]),Object(a.useEffect)((function(){R&&t.push("/")}),[R]),Object(a.useEffect)((function(){L&&t.push("/")}),[t,L]),Object(ct.jsxs)(ot.a,{className:"form-container",children:[Object(ct.jsx)("h1",{className:"text-center",children:"Registro"}),Object(ct.jsx)("span",{className:"text-dark d-block text-center",children:"Llena los campos correspondientes para registrarte"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault(),n.password==E?U(xt("/api/users/register/","POST",n,{SUCESS:v,REQUEST:g,FAIL:f})):U({type:f,payload:"Ambas contrase\xf1as deben ser iguales"})},children:[Object(ct.jsxs)(ft.a.Group,{controlId:"name",children:[Object(ct.jsx)(ft.a.Label,{children:"Nombre"}),Object(ct.jsx)(ft.a.Control,{onChange:_,name:"name",type:"text",placeholder:"Ingresa tu nombre",value:i,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"lastaName",children:[Object(ct.jsx)(ft.a.Label,{children:"Apellidos"}),Object(ct.jsx)(ft.a.Control,{onChange:_,name:"lastName",type:"text",placeholder:"Ingresa tus apellidos",value:d})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"email",children:[Object(ct.jsx)(ft.a.Label,{children:"Correo"}),Object(ct.jsx)(ft.a.Control,{onChange:_,name:"email",type:"text",placeholder:"Ingresa tu correo",value:j,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"lastaName",children:[Object(ct.jsx)(ft.a.Label,{children:"Contrase\xf1a"}),Object(ct.jsx)(ft.a.Control,{onChange:_,name:"password",type:"password",placeholder:"Ingresa tu contrase\xf1a",value:u,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"lastaName",children:[Object(ct.jsx)(ft.a.Label,{children:"Confirma contrase\xf1a"}),Object(ct.jsx)(ft.a.Control,{name:"password2",type:"password",placeholder:"Confirma tu contrase\xf1a",value:E,onChange:function(e){return S(e.target.value)},required:!0})]}),Object(ct.jsxs)("span",{className:"text-dark d-block text-center mt-4",children:["Si ya cuentas con una cuenta, haz login ",Object(ct.jsx)(Ye.Link,{to:"/login",children:"aqui"})]}),C&&Object(ct.jsx)(St,{variant:"danger",children:C}),y?Object(ct.jsx)(jt,{}):Object(ct.jsx)(tt.a,{type:"submit",variant:"success",className:"mt-4",children:"Registrarme"})]})]})}var Ct={name:"",description:"",categorie:"",price:0,countInStock:0,image:void 0};function Tt(e){e.match;var t=e.history,c=Object(o.b)(),r=Object(a.useState)(Ct),n=Object(vt.a)(r,2),s=n[0],i=n[1],d=Object(a.useState)(),j=Object(vt.a)(d,2),u=j[0],O=j[1],h=Object(a.useState)(1),p=Object(vt.a)(h,2),x=p[0],m=p[1],g=Object(o.c)((function(e){return e.productRegister})),v=g.loading,f=g.error,E=g.success,S=(g.product,Object(o.c)((function(e){return e.categorieList})).categories),I=Object(o.c)((function(e){return e.userLogin})).userInfo,y=function(e){i(Object(b.a)(Object(b.a)({},s),{},Object(l.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){E&&(c({type:M}),t.push("/"))}),[E]),Object(a.useEffect)((function(){c(xt("/api/categories/getcategories/","GET",{},{SUCESS:Ee,FAIL:Se,REQUEST:fe}))}),[]);return Object(a.useEffect)((function(){(null===I||void 0===I?void 0:I.isAdmin)||t.push("/")}),[I]),Object(ct.jsxs)(ot.a,{className:"form-container",children:[Object(ct.jsx)(Ye.Link,{to:"/admin/products/",children:Object(ct.jsx)(tt.a,{variant:"warning",children:"Regresar"})}),Object(ct.jsx)("h1",{children:"Registar producto"}),Object(ct.jsx)("span",{className:"text-dark",children:"Llena los campos correspondientes para registrar tu producto"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",s.name),t.append("lastName",s.lastName),t.append("price",parseFloat(s.price)),t.append("countInStock",s.countInStock),t.append("description",s.description),t.append("categorie",x),t.append("image",u),"string"===typeof t.price?c({type:B,payload:"El precio debe de ser un numero"}):c(xt("/api/products/register/","POST",t,{SUCESS:J,FAIL:B,REQUEST:H},!0))},children:[Object(ct.jsxs)(ft.a.Group,{controlId:"name",children:[Object(ct.jsx)(ft.a.Label,{children:"Nombre"}),Object(ct.jsx)(ft.a.Control,{name:"name",type:"text",placeholder:"Ingresa el nombre del producto",onChange:y,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"description",children:[Object(ct.jsx)(ft.a.Label,{children:"Descripcion"}),Object(ct.jsx)(ft.a.Control,{name:"description",as:"textarea",type:"text",placeholder:"Ingresa la descripcion del producto",onChange:y,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{name:"categorie",controlId:"categorie",onChange:y,children:[Object(ct.jsx)(ft.a.Label,{children:"Categoria"}),Object(ct.jsx)(ft.a.Control,{as:"select",type:"text",onChange:function(e){return m(e.target.value)},children:null===S||void 0===S?void 0:S.map((function(e){return Object(ct.jsx)("option",{value:e.id,children:e.name})}))})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"price",children:[Object(ct.jsx)(ft.a.Label,{children:"Precio"}),Object(ct.jsx)(ft.a.Control,{name:"price",type:"text",placeholder:"Ingresa el precio del producto",onChange:y,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"countInStock",children:[Object(ct.jsx)(ft.a.Label,{children:"Cantidad en stock"}),Object(ct.jsx)(ft.a.Control,{name:"countInStock",type:"number",placeholder:"Ingresa la cantidad en stock",onChange:y})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"image",children:[Object(ct.jsx)(ft.a.Label,{children:"Imagen"}),Object(ct.jsx)(ft.a.Control,{type:"text",placeholder:"Ingresa la imagen",value:u,readOnly:!0}),Object(ct.jsx)(ft.a.File,{id:"image-file",custom:!0,onChange:function(e){O(e.target.files[0]),console.log(e.target.files[0])}})]}),f&&Object(ct.jsx)(St,{variant:"danger",children:f}),v?Object(ct.jsx)(jt,{}):Object(ct.jsx)(tt.a,{type:"submit",variant:"success",className:"mt-5",children:"Enviar"})]})]})}var Lt=c(130);function Rt(e){var t=e.match,c=e.history,r=t.params.id,n=Object(o.b)(),s=Object(a.useState)(),i=Object(vt.a)(s,2),d=i[0],j=i[1],u=Object(a.useState)(null===d||void 0===d?void 0:d.image),O=Object(vt.a)(u,2),h=O[0],p=O[1],x=Object(a.useState)(1),m=Object(vt.a)(x,2),g=m[0],v=m[1],f=Object(a.useState)(!1),E=Object(vt.a)(f,2),S=E[0],I=E[1],y=Object(o.c)((function(e){return e.productUpdate})),C=y.loading,T=y.error,L=y.success,R=(y.product,Object(o.c)((function(e){return e.categorieList}))),U=R.categories,_=R.loading,N=Object(o.c)((function(e){return e.productDetails})),A=N.product,D=N.success,k=N.loading,w=N.error,F=Object(o.c)((function(e){return e.userLogin})).userInfo,P=function(e){j(Object(b.a)(Object(b.a)({},d),{},Object(l.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){!F.isAdmin&&c.push("/"),n(xt("/api/categories/getcategories/","GET",{},{SUCESS:Ee,FAIL:Se,REQUEST:fe})),L?(n({type:ue}),n({type:V}),c.push("/admin/products/")):(null===d||void 0===d?void 0:d.id)==Number(r)&&(null===d||void 0===d?void 0:d.name)||(n(xt("/api/products/getproduct/".concat(r,"/"),"GET",{},{SUCESS:X,FAIL:W,REQUEST:$})),D&&j(A))}),[r,D,L]);return Object(a.useEffect)((function(){(null===F||void 0===F?void 0:F.isAdmin)||c.push("/")}),[F]),Object(ct.jsx)(ot.a,{className:"form-container",style:{minHeight:"80vh"},children:k||_?Object(ct.jsx)(jt,{}):w?Object(ct.jsx)(St,{variant:"danger",children:T}):Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsx)(Ye.Link,{to:"/admin/products/",children:Object(ct.jsx)(tt.a,{variant:"warning",children:"Regresar"})}),Object(ct.jsx)("h1",{children:"Editar producto"}),Object(ct.jsx)("span",{className:"text-dark",children:"Llena los campos correspondientes para actualizar tu producto"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",d.name),t.append("price",d.price),t.append("countInStock",d.countInStock),t.append("description",d.description),t.append("categorie",g),t.append("image",h),t.append("updateImage",S),t.append("idCategorie",g),n(xt("/api/products/update/".concat(r,"/"),"PUT",t,{SUCESS:de,FAIL:je,REQUEST:le},!0))},children:[Object(ct.jsxs)(ft.a.Group,{controlId:"name",children:[Object(ct.jsx)(ft.a.Label,{children:"Nombre"}),Object(ct.jsx)(ft.a.Control,{name:"name",type:"text",placeholder:"Ingresa el nombre del producto",onChange:P,required:!0,value:null===d||void 0===d?void 0:d.name})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"description",children:[Object(ct.jsx)(ft.a.Label,{children:"Descripcion"}),Object(ct.jsx)(ft.a.Control,{name:"description",as:"textarea",type:"text",placeholder:"Ingresa la descripcion del producto",onChange:P,value:null===d||void 0===d?void 0:d.description,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{name:"categorie",controlId:"categorie",onChange:P,children:[Object(ct.jsx)(ft.a.Label,{children:"Categoria"}),Object(ct.jsx)(ft.a.Control,{as:"select",type:"text",onChange:function(e){return v(e.target.value)},children:null===U||void 0===U?void 0:U.map((function(e){return Object(ct.jsx)("option",{selected:(null===A||void 0===A?void 0:A.categorie)===e.id,value:e.id,children:e.name})}))})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"price",children:[Object(ct.jsx)(ft.a.Label,{children:"Precio"}),Object(ct.jsx)(ft.a.Control,{name:"price",type:"number",placeholder:"Ingresa el precio del producto",onChange:P,required:!0,value:null===d||void 0===d?void 0:d.price})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"countInStock",children:[Object(ct.jsx)(ft.a.Label,{children:"Cantidad en stock"}),Object(ct.jsx)(ft.a.Control,{name:"countInStock",type:"number",placeholder:"Ingresa la cantidad en stock",onChange:P,value:null===d||void 0===d?void 0:d.countInStock})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"image",children:[Object(ct.jsx)(ft.a.Label,{children:"Imagen"}),Object(ct.jsx)("div",{className:"d-flex align-items-center w-100 justify-content-center",children:(null===d||void 0===d?void 0:d.img)&&Object(ct.jsx)(Lt.a,{className:"d-block my-4 shadow",style:{maxWidth:"330px",maxHeight:"250px"},xs:6,md:4,src:null===d||void 0===d?void 0:d.img})}),Object(ct.jsx)(ft.a.File,{id:"image-file",custom:!0,onChange:function(e){p(e.target.files[0]),I(!0)}})]}),T&&Object(ct.jsx)(St,{variant:"danger",children:T}),C?Object(ct.jsx)(jt,{}):Object(ct.jsx)(tt.a,{type:"submit",variant:"success",className:"mt-5",children:"Enviar"})]})]})})}var Ut=c(80),_t=c.n(Ut);function Nt(e){var t=e.product,c=e.children;return Object(ct.jsx)(ct.Fragment,{children:Object(ct.jsx)(ot.a,{className:"m-4 p-3 mx-auto",children:Object(ct.jsxs)(nt.a,{style:{overflowX:"hidden"},children:[Object(ct.jsx)(st.a,{sm:12,md:6,lg:4,xl:3,children:Object(ct.jsx)(_t.a,{image:{src:null===t||void 0===t?void 0:t.img,alt:"".concat(null===t||void 0===t?void 0:t.name),className:"rounded img-responsive w-100 mx-auto mb-3 shadow"},zoomImage:{src:null===t||void 0===t?void 0:t.img,alt:"".concat(null===t||void 0===t?void 0:t.name)}})},"1"),Object(ct.jsx)(st.a,{children:Object(ct.jsxs)("div",{className:"mx-auto rounded mb-3",children:[Object(ct.jsx)(Ye.Link,{to:"/categories/".concat(t.nameCategorie),style:{textDecoration:"none"},children:Object(ct.jsxs)("h6",{className:"mx-auto mb-1 bg-warning rounded p-1 text-center text-white",children:[Object(ct.jsx)("i",{class:"fas fa-hammer"})," ",null===t||void 0===t?void 0:t.nameCategorie]})}),Object(ct.jsxs)("h3",{className:"text-center py-3",children:[Object(ct.jsx)("i",{class:"fas fa-hard-hat"})," "," ",null===t||void 0===t?void 0:t.name]}),Object(ct.jsx)("div",{className:"pt-2",children:null===t||void 0===t?void 0:t.description})]})},"2"),Object(ct.jsx)(st.a,{children:Object(ct.jsxs)(at.a,{children:[Object(ct.jsx)(at.a.Title,{children:Object(ct.jsxs)("p",{className:"bg-white rounded m-2 text-center text-warning h2 border",children:["$ ",null===t||void 0===t?void 0:t.price]})}),Object(ct.jsx)(at.a.Body,{children:Object(ct.jsxs)(at.a.Text,{as:"h5",children:["Disponibles: ",null===t||void 0===t?void 0:t.countInStock," unidades "," "," ",Object(ct.jsx)("i",{class:"fas fa-toolbox"})]})}),c]})},"3")]})})})}function At(e){var t=e.history,c=Object(o.b)(),r=Object(a.useState)(1),n=Object(vt.a)(r,2),s=n[0],i=n[1],l=Object(o.c)((function(e){return e.productList})),d=l.loading,j=l.products,u=(l.error,Object(o.c)((function(e){return e.userLogin})).userInfo);Object(a.useEffect)((function(){c(xt("/api/products/getproducts/","GET",{},{SUCESS:K,FAIL:Y,REQUEST:Z}))}),[u,t]);var b=parseInt(Object(et.m)().idProduct,10),O=null===j||void 0===j?void 0:j.find((function(e){return e.id===b}));return Object(ct.jsx)(ct.Fragment,{children:d?Object(ct.jsx)(ot.a,{style:{minHeight:"100vh",paddingTop:"5rem"},children:Object(ct.jsx)(jt,{})}):j&&O?Object(ct.jsx)(ot.a,{style:{minHeight:"70vh",paddingTop:"1rem",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(ct.jsx)(Nt,{product:O,children:Object(ct.jsx)("div",{className:"p-3",children:(null===O||void 0===O?void 0:O.countInStock)>0?Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsxs)("h6",{children:["Cantidad a comprar ",Object(ct.jsx)("i",{class:"fas fa-shopping-basket"})]}),Object(ct.jsx)(ft.a.Control,{as:"select",className:"mb-3",value:s,onChange:function(e){return i(e.target.value)},children:Object(Le.a)(Array(O.countInStock).keys()).map((function(e){return Object(ct.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(ct.jsxs)("button",{type:"button",onClick:function(e){u?t.push("/cart/".concat(O.id,"?qty=").concat(s)):t.push("/login")},className:"btn btn-primary",disabled:0===(null===O||void 0===O?void 0:O.countInStock),children:["A\xf1adir al carro ",Object(ct.jsx)("i",{className:"fas fa-shopping-cart"})]})]}):Object(ct.jsx)("h6",{children:"No hay productos en stock"})})})}):Object(ct.jsx)(ct.Fragment,{})})}function Dt(){return Object(ct.jsx)(ct.Fragment,{children:Object(ct.jsx)(ot.a,{className:"",children:Object(ct.jsx)(mt,{})})})}var kt=c(18);c(118);function wt(e){var t=e.product,c=e.children;return Object(ct.jsxs)(nt.a,{className:"d-flex w-100 product-panel",children:[Object(ct.jsx)(st.a,{md:3,xs:12,children:(null===t||void 0===t?void 0:t.img)&&Object(ct.jsx)("div",{className:"d-flex justify-content-center",children:Object(ct.jsx)(Lt.a,{className:"d-block my-4 shadow",src:t.img})})}),Object(ct.jsxs)(st.a,{className:"p-4",md:9,xs:12,children:[Object(ct.jsx)("h4",{style:{color:"#333"},children:null===t||void 0===t?void 0:t.name}),Object(ct.jsxs)("h6",{children:[Object(ct.jsx)("b",{children:"Categor\xeda"})," ",null===t||void 0===t?void 0:t.nameCategorie]}),Object(ct.jsxs)("span",{children:[Object(ct.jsx)("b",{children:"ID:"})," ",null===t||void 0===t?void 0:t.id]}),Object(ct.jsxs)("span",{children:[Object(ct.jsx)("b",{children:"Precio: "}),"$ ",null===t||void 0===t?void 0:t.price]}),Object(ct.jsxs)("span",{children:[Object(ct.jsx)("b",{children:"Cantidad en stock: "}),null===t||void 0===t?void 0:t.countInStock]}),Object(ct.jsx)("span",{children:null===t||void 0===t?void 0:t.description}),c]})]})}function Ft(e){var t=e.history,c=Object(o.b)(),r=Object(a.useState)(""),n=Object(vt.a)(r,2),s=n[0],i=n[1],l=Object(o.c)((function(e){return e.productSearch})),d=l.loading,j=l.products,u=(l.error,Object(o.c)((function(e){return e.userLogin})).userInfo),b=Object(o.c)((function(e){return e.productDelete})),O=b.success;b.loading;return Object(a.useEffect)((function(){(null===u||void 0===u?void 0:u.isAdmin)?c(xt("/api/products/search/".concat(""==s?"all":s),"GET",{},{SUCESS:ce,FAIL:re,REQUEST:te})):t.push("/")}),[u,t,O,s]),console.log("a"),Object(ct.jsx)(ot.a,{className:"mt-5",style:{minHeight:"80vh"},children:Object(ct.jsxs)(nt.a,{children:[Object(ct.jsx)(st.a,{children:Object(ct.jsx)("h1",{children:"Productos"})}),Object(ct.jsx)(st.a,{children:Object(ct.jsx)(Ye.Link,{to:"/admin/products/register",children:Object(ct.jsxs)(tt.a,{variant:"primary",className:"d-block",style:{marginLeft:"auto"},children:[Object(ct.jsx)("i",{className:"fas fa-plus"})," Crear producto"]})})}),Object(ct.jsx)(nt.a,{children:Object(ct.jsx)(st.a,{children:Object(ct.jsx)(ft.a,{inline:!0,children:Object(ct.jsx)(ft.a.Control,{type:"text",placeholder:"Buscar producto",value:s,onChange:function(e){return i(e.target.value)}})})})}),Object(ct.jsx)(ct.Fragment,{children:Object(ct.jsx)(nt.a,{className:"w-100 m-0",children:d?Object(ct.jsx)(jt,{}):Object(ct.jsx)(ct.Fragment,{children:null===j||void 0===j?void 0:j.map((function(e){return Object(ct.jsx)(st.a,{xs:12,className:"d-flex justify-content-center m-0",children:Object(ct.jsxs)(wt,{product:e,children:[Object(ct.jsx)(kt.LinkContainer,{to:"/admin/products/edit/".concat(e.id,"/"),children:Object(ct.jsx)(tt.a,{variant:"primary",className:"btn-sm mr-2",children:Object(ct.jsx)("i",{className:"fas fa-edit"})})}),Object(ct.jsx)(tt.a,{variant:"danger",className:"btn-sm",onClick:function(){var t;t=e.id,window.confirm("Seguro que deseas eliminar este producto?")&&c(xt("/api/products/delete/".concat(t,"/"),"DELETE",{},{SUCESS:se,FAIL:ie,REQUEST:ne}))},children:Object(ct.jsx)("i",{className:"fas fa-trash"})})]})})}))})})})]})})}var Pt={email:"",password:""};function Gt(e){var t=e.history,c=Object(a.useState)(Pt),r=Object(vt.a)(c,2),n=r[0],s=r[1],i=(n.email,n.password,Object(o.c)((function(e){return e.userLogin}))),d=i.loading,j=i.error,u=i.success,m=i.userInfo,g=Object(o.b)(),v=function(e){s(Object(b.a)(Object(b.a)({},n),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){u&&t.push("/")}),[u]),Object(a.useEffect)((function(){m&&t.push("/")}),[t,m]),Object(a.useEffect)((function(){g({type:x})}),[t]),Object(ct.jsxs)(ot.a,{className:"form-container",children:[Object(ct.jsx)("h1",{className:"text-center",children:"Login"}),Object(ct.jsx)("span",{className:"text-dark d-block text-center",children:"Llena los campos correspondientes para iniciar sesion"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault(),g(xt("/api/users/login/","POST",n,{SUCESS:h,REQUEST:O,FAIL:p}))},children:[Object(ct.jsxs)(ft.a.Group,{controlId:"email",children:[Object(ct.jsx)(ft.a.Label,{children:"Correo"}),Object(ct.jsx)(ft.a.Control,{type:"email",name:"email",placeholder:"Ingresa tu correo",onChange:v,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"password",children:[Object(ct.jsx)(ft.a.Label,{children:"Contrase\xf1a"}),Object(ct.jsx)(ft.a.Control,{type:"password",name:"password",placeholder:"Ingresa tu contrase\xf1a",onChange:v,required:!0})]}),Object(ct.jsxs)("span",{className:"text-dark d-block text-center mt-4",children:["Si no cuentas con una cuenta registrate"," ",Object(ct.jsx)(Ye.Link,{to:"/register",children:"aqui"})]}),j&&Object(ct.jsx)(St,{variant:"danger",children:j}),d?Object(ct.jsx)(jt,{}):Object(ct.jsx)(tt.a,{type:"submit",variant:"success",className:"mt-4",children:"Login"})]})]})}var Qt=c(131);function qt(e){var t=e.history,c=Object(o.c)((function(e){return e.userLogin})).userInfo,r=Object(o.b)(),n={name:null===c||void 0===c?void 0:c.name,lastName:null===c||void 0===c?void 0:c.lastName,email:null===c||void 0===c?void 0:c.email,password:null===c||void 0===c?void 0:c.password},s=Object(o.c)((function(e){return e.orderList})),i=s.orders,d=s.loading,j=s.error,u=(s.success,Object(a.useState)(n)),O=Object(vt.a)(u,2),p=O[0],x=O[1],m=p.name,g=p.lastName,v=p.email,f=p.password,E=Object(a.useState)(""),S=Object(vt.a)(E,2),I=S[0],y=S[1],C=Object(o.c)((function(e){return e.userUpdate})),T=C.loading,L=C.error,R=C.success,U=C.user,_=function(e){x(Object(b.a)(Object(b.a)({},p),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){!c&&t.push("/"),r(xt("/api/orders/getorders/".concat(null===c||void 0===c?void 0:c.id,"/"),"GET",{},{SUCESS:qe,REQUEST:Qe,FAIL:ze})),R&&(localStorage.setItem("userInfo",JSON.stringify(U)),r({type:h,payload:U}))}),[t,r,R,c]),Object(a.useEffect)((function(){r({type:F})}),[t,r]),Object(ct.jsx)(ct.Fragment,{children:Object(ct.jsxs)(nt.a,{style:{minHeight:"100vh",overflowX:"hidden"},children:[Object(ct.jsxs)(st.a,{xl:4,className:"p-5",children:[Object(ct.jsx)("h2",{children:"Perfil"}),R&&Object(ct.jsx)(St,{variant:"success",children:"Perfil actualizado correctamente"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault(),p.password==I?r(xt("/api/users/updateuser/".concat(null===c||void 0===c?void 0:c.id,"/"),"PUT",p,{SUCESS:k,REQUEST:D,FAIL:w})):r({type:w,payload:"Ambas contrase\xf1as deben ser iguales"})},children:[Object(ct.jsxs)(ft.a.Group,{children:[Object(ct.jsx)(ft.a.Label,{children:"Nombre"}),Object(ct.jsx)(ft.a.Control,{onChange:_,id:"name",name:"name",placeholder:"Ingresa el nombre",required:!0,value:m})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"lastaName",children:[Object(ct.jsx)(ft.a.Label,{children:"Apellidos"}),Object(ct.jsx)(ft.a.Control,{onChange:_,name:"lastName",type:"text",placeholder:"Ingresa tus apellidos",value:g})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"email",children:[Object(ct.jsx)(ft.a.Label,{children:"Correo"}),Object(ct.jsx)(ft.a.Control,{onChange:_,name:"email",type:"text",placeholder:"Ingresa tu correo",value:v,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"lastaName",children:[Object(ct.jsx)(ft.a.Label,{children:"Nueva contrase\xf1a"}),Object(ct.jsx)(ft.a.Control,{onChange:_,name:"password",type:"password",placeholder:"Ingresa tu contrase\xf1a",value:f,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"lastName",children:[Object(ct.jsx)(ft.a.Label,{children:"Confirma nueva contrase\xf1a"}),Object(ct.jsx)(ft.a.Control,{name:"password2",type:"password",placeholder:"Confirma tu contrase\xf1a",value:I,onChange:function(e){return y(e.target.value)},required:!0})]}),L&&Object(ct.jsx)(St,{variant:"danger",children:L}),T?Object(ct.jsx)(jt,{}):Object(ct.jsx)(tt.a,{type:"submit",variant:"success",className:"mt-4",children:"Actualizar perfil"})]})]}),Object(ct.jsx)(st.a,{xl:8,className:"p-5",children:d?Object(ct.jsx)(jt,{}):j?Object(ct.jsx)(St,{variant:"danger",children:j}):Object(ct.jsxs)(ct.Fragment,{children:[" ",Object(ct.jsx)("h2",{children:"Mis pedidos"}),Object(ct.jsxs)(Qt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm mt-3",children:[Object(ct.jsx)("thead",{children:Object(ct.jsxs)("tr",{children:[Object(ct.jsx)("th",{children:"ID"}),Object(ct.jsx)("th",{children:"Pa\xeds"}),Object(ct.jsx)("th",{children:"Ciudad"}),Object(ct.jsx)("th",{children:"Calle"}),Object(ct.jsx)("th",{children:"Zipcode"}),Object(ct.jsx)("th",{children:"Status envio"}),Object(ct.jsx)("th",{children:"Status pago"}),Object(ct.jsx)("th",{})]})}),Object(ct.jsx)("tbody",{children:null===i||void 0===i?void 0:i.map((function(e){return Object(ct.jsxs)("tr",{children:[Object(ct.jsx)("td",{children:e.id}),Object(ct.jsx)("td",{children:e.country}),Object(ct.jsx)("td",{children:e.city}),Object(ct.jsx)("td",{children:e.street}),Object(ct.jsx)("td",{children:e.zip}),Object(ct.jsx)("td",{children:e.statusDeliver}),Object(ct.jsx)("td",{children:e.statusPay}),Object(ct.jsx)("td",{children:Object(ct.jsx)(tt.a,{variant:"info",onClick:function(){return t.push("/order/".concat(e.id))},children:Object(ct.jsx)("i",{className:"fas fa-eye"})})})]},e.id)}))})]})]})})]})})}function zt(e){var t=e.match,c=e.history,r=t.params.id,n=Object(o.b)(),s=Object(a.useState)(),i=Object(vt.a)(s,2),d=i[0],j=i[1],u=Object(o.c)((function(e){return e.categorieDetails})),O=u.categorie,h=u.success,p=u.error,x=u.loading,m=Object(o.c)((function(e){return e.categorieUpdate})),g=(m.categorie,m.success),v=m.error,f=m.loading,E=Object(o.c)((function(e){return e.userLogin})).userInfo,S=function(e){j(Object(b.a)(Object(b.a)({},d),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){!E.isAdmin&&c.push("/"),g?(n({type:ve}),n({type:Te}),c.push("/admin/categories/")):(null===d||void 0===d?void 0:d.id)==Number(r)&&(null===d||void 0===d?void 0:d.name)||(n(xt("/api/categories/getcategorie/".concat(r,"/"),"GET",{},{SUCESS:me,FAIL:ge,REQUEST:xe})),h&&j(O))}),[r,h,g]),x?Object(ct.jsx)(ot.a,{className:"container-hard",children:Object(ct.jsx)(jt,{})}):p?Object(ct.jsx)(ot.a,{className:"container-hard",children:Object(ct.jsx)(St,{variant:"danger",children:p})}):Object(ct.jsxs)(ot.a,{className:"mt-5 form-container",style:{minHeight:"80vh"},children:[Object(ct.jsx)(Ye.Link,{to:"/admin/categories/",children:Object(ct.jsx)(tt.a,{variant:"warning",children:"Regresar"})}),Object(ct.jsx)("h2",{className:"mt-4",children:"Editar categoria"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault(),n(xt("/api/categories/update/".concat(r,"/"),"PUT",d,{SUCESS:ye,FAIL:Ce,REQUEST:Ie}))},children:[Object(ct.jsxs)(ft.a.Group,{controlId:"name",children:[Object(ct.jsx)(ft.a.Label,{children:"Nombre de la categoria"}),Object(ct.jsx)(ft.a.Control,{type:"text",placeholder:"Ingresa el nombre de la categoria",required:!0,name:"name",onChange:S,value:null===d||void 0===d?void 0:d.name})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"description",children:[Object(ct.jsx)(ft.a.Label,{children:"Descripcion"}),Object(ct.jsx)(ft.a.Control,{type:"text",placeholder:"Ingresa la descripcion de la categoria",required:!0,name:"description",onChange:S,value:null===d||void 0===d?void 0:d.description})]}),v&&Object(ct.jsx)(St,{variant:"danger",children:v}),f?Object(ct.jsx)(jt,{}):Object(ct.jsx)(tt.a,{type:"submit",className:"mt-2",variant:"primary",children:"Actualizar"})]})]})}var Ht={name:"",description:""};function Jt(e){var t=e.history,c=Object(o.b)(),r=Object(a.useState)(Ht),n=Object(vt.a)(r,2),s=n[0],i=n[1],d=Object(o.c)((function(e){return e.categorieRegister})),j=d.loading,u=d.error,O=d.success,h=function(e){i(Object(b.a)(Object(b.a)({},s),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){O&&t.push("/admin/categories")}),[O]),Object(a.useEffect)((function(){c({type:pe})}),[t]),Object(ct.jsxs)(ot.a,{className:"mt-5 form-container",style:{minHeight:"80vh"},children:[Object(ct.jsx)(Ye.Link,{to:"/admin/categories/",children:Object(ct.jsx)(tt.a,{variant:"warning",children:"Regresar"})}),Object(ct.jsx)("h2",{className:"mt-4",children:"Registrar categoria"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault(),console.log(s),c(xt("/api/categories/register/","POST",s,{SUCESS:Oe,REQUEST:be,FAIL:he}))},children:[Object(ct.jsxs)(ft.a.Group,{controlId:"name",children:[Object(ct.jsx)(ft.a.Label,{children:"Nombre de la categoria"}),Object(ct.jsx)(ft.a.Control,{onChange:h,name:"name",type:"text",placeholder:"Ingresa el nombre de la categoria",required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"description",children:[Object(ct.jsx)(ft.a.Label,{children:"Descripcion"}),Object(ct.jsx)(ft.a.Control,{type:"text",name:"description",onChange:h,as:"textarea",placeholder:"Ingresa la descripcion de la categoria",required:!0})]}),u&&Object(ct.jsx)(St,{variant:"danger",children:u}),j?Object(ct.jsx)(jt,{}):Object(ct.jsx)(tt.a,{type:"submit",className:"mt-2",variant:"primary",children:"Registrar"})]})]})}function Bt(e){var t=Object(o.b)(),c=Object(o.c)((function(e){return e.productList})),r=c.loading,n=c.products,s=(c.error,Object(o.c)((function(e){return e.userLogin})).userInfo);Object(a.useEffect)((function(){t(xt("/api/products/getproducts/","GET",{},{SUCESS:K,FAIL:Y,REQUEST:Z}))}),[s,e]);var i=Object(et.m)().name;return Object(ct.jsx)(ct.Fragment,{children:r?Object(ct.jsx)(ot.a,{className:"container-hard",children:Object(ct.jsx)(jt,{})}):Object(ct.jsxs)(ot.a,{className:"",children:[Object(ct.jsx)("h3",{className:"mt-3 border-top border-warning border-3 pt-2 rounded",children:i}),Object(ct.jsx)(lt,{products:null===n||void 0===n?void 0:n.filter((function(e){return e.nameCategorie===i}))})]})})}function Mt(e){var t=e.history,c=Object(o.b)(),r=Object(o.c)((function(e){return e.userLogin})).userInfo,n=Object(o.c)((function(e){return e.categorieList})),s=n.loading,i=n.error,l=n.categories;Object(a.useEffect)((function(){r?c(xt("/api/categories/getcategories/","GET",{},{SUCESS:Ee,FAIL:Se,REQUEST:fe})):t.push("/")}),[c,t,r]);return Object(ct.jsx)(ot.a,{className:"mt-5",style:{minHeight:"80vh"},children:Object(ct.jsxs)("main",{children:[Object(ct.jsx)(ct.Fragment,{}),Object(ct.jsxs)(nt.a,{children:[Object(ct.jsx)(st.a,{children:Object(ct.jsx)("h1",{children:"Categorias"})}),Object(ct.jsx)(st.a,{className:"text-right",children:Object(ct.jsx)(Ye.Link,{to:"/admin/categories/register",children:Object(ct.jsxs)(tt.a,{variant:"primary",className:"d-block",style:{marginLeft:"auto"},children:[Object(ct.jsx)("i",{className:"fas fa-plus"})," Crear categoria"]})})})]}),Object(ct.jsx)(nt.a,{children:s?Object(ct.jsx)(ot.a,{className:"container-hard",children:Object(ct.jsx)(jt,{})}):i?Object(ct.jsx)(ot.a,{className:"container-hard",children:Object(ct.jsx)(St,{variant:"danger",children:i})}):Object(ct.jsxs)(Qt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm mt-3",children:[Object(ct.jsx)("thead",{children:Object(ct.jsxs)("tr",{children:[Object(ct.jsx)("th",{children:"ID"}),Object(ct.jsx)("th",{children:"Nombre"}),Object(ct.jsx)("th",{})]})}),Object(ct.jsx)("tbody",{children:null===l||void 0===l?void 0:l.map((function(e){return Object(ct.jsxs)("tr",{children:[Object(ct.jsx)("td",{children:e.id}),Object(ct.jsx)("td",{children:e.name}),Object(ct.jsx)("td",{children:Object(ct.jsx)(kt.LinkContainer,{to:"/admin/categories/edit/".concat(e.id,"/"),children:Object(ct.jsx)(tt.a,{variant:"light",className:"btn-sm",children:Object(ct.jsx)("i",{className:"fas fa-edit"})})})})]},e.id)}))})]})})]})})}var $t=c(136),Xt=function(e,t){return function(){var c=Object(Ot.a)(bt.a.mark((function c(r,a){var n,s;return bt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(e),c.next=3,pt.a.get("/api/products/getproduct/".concat(e));case 3:n=c.sent,s=n.data,r({type:Re,payload:{product:null===s||void 0===s?void 0:s.id,name:null===s||void 0===s?void 0:s.name,img:null===s||void 0===s?void 0:s.img,countInStock:null===s||void 0===s?void 0:s.countInStock,price:null===s||void 0===s?void 0:s.price,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 7:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},Wt={idUser:null,city:"",country:"",street:"",zipcode:"",items:[]};function Vt(e){var t=e.match,c=e.location,r=e.history,n=t.params.id,s=c.search?Number(c.search.split("=")[1]):1,i=Object(a.useState)(Wt),d=Object(vt.a)(i,2),j=d[0],u=d[1],O=Object(o.b)(),h=Object(o.c)((function(e){return e.cart})).cartItems,p=Object(o.c)((function(e){return e.userLogin})).userInfo,x=Object(o.c)((function(e){return e.orderCreate})),m=x.loading,g=x.error,v=x.success,f=function(e){u(Object(b.a)(Object(b.a)({},j),{},Object(l.a)({},e.target.name,e.target.value)))},E=function(e){console.log(e),O(function(e){return function(t,c){t({type:Ue,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))};return Object(a.useEffect)((function(){!p&&r.push("/"),n&&s&&O(Xt(n,s)),u(Object(b.a)(Object(b.a)({},j),{},{idUser:null===p||void 0===p?void 0:p.id,items:h}))}),[O,n,s,p]),Object(a.useEffect)((function(){v&&(O({type:_e}),localStorage.removeItem("cartItems"),O({type:ke}),r.push("/profile"))}),[v]),Object(ct.jsxs)(nt.a,{style:{minHeight:"80vh",overflowX:"hidden"},children:[Object(ct.jsxs)(st.a,{md:6,className:"p-5",children:[Object(ct.jsx)("img",{className:"d-inline-block align-top mb-4",height:"80",src:"https://res.cloudinary.com/jordiespinoza/image/upload/v1624153215/Ferreter%C3%ADaCano_4_xkiqg6.png"}),0===h.length?Object(ct.jsxs)(St,{variant:"secondary",children:["Tu carrito esta vacio",Object(ct.jsx)("br",{}),Object(ct.jsx)(Ye.Link,{to:"/products",children:"Ir a la tienda"})]}):Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsx)($t.a,{variant:"flush",children:null===h||void 0===h?void 0:h.map((function(e){return Object(ct.jsx)($t.a.Item,{children:Object(ct.jsxs)(nt.a,{children:[Object(ct.jsx)(st.a,{md:2,children:Object(ct.jsx)(Lt.a,{src:null===e||void 0===e?void 0:e.img,alt:null===e||void 0===e?void 0:e.name,fluid:!0,rounded:!0})}),Object(ct.jsx)(st.a,{xl:3,children:Object(ct.jsx)(Ye.Link,{to:"/product/".concat(null===e||void 0===e?void 0:e.id),children:null===e||void 0===e?void 0:e.name})}),Object(ct.jsxs)(st.a,{xl:2,children:["$",null===e||void 0===e?void 0:e.price," "]}),Object(ct.jsx)(st.a,{xl:3,children:Object(ct.jsxs)(ft.a.Group,{children:[Object(ct.jsx)(ft.a.Label,{children:"Unidades"}),Object(ct.jsx)(ft.a.Control,{as:"select",value:null===e||void 0===e?void 0:e.qty,onChange:function(t){return O(Xt(null===e||void 0===e?void 0:e.product,Number(t.target.value)))},children:Object(Le.a)(Array(null===e||void 0===e?void 0:e.countInStock).keys()).map((function(e){return Object(ct.jsx)("option",{value:e+1,children:e+1},e+1)}))})]})}),Object(ct.jsx)(st.a,{md:1,children:Object(ct.jsx)(tt.a,{type:"button",variant:"light",onClick:function(){return E(e.product)},children:Object(ct.jsx)("i",{className:"fas fa-trash"})})})]})},null===e||void 0===e?void 0:e.product)}))}),Object(ct.jsx)(at.a,{className:"mt-4 p-3",children:Object(ct.jsx)($t.a,{variant:"flush",children:Object(ct.jsxs)("h5",{children:["Total (",h.reduce((function(e,t){return e+t.qty}),0),") productos ",Object(ct.jsx)("br",{}),"$",h.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]})})}),Object(ct.jsxs)(tt.a,{variant:"primary",className:"mt-4",onClick:function(){O({type:_e}),localStorage.removeItem("cartItems")},children:[Object(ct.jsx)("i",{class:"fas fa-broom"}),"Limpiar carrito"]})]})]}),Object(ct.jsxs)(st.a,{md:6,className:"p-5",children:[Object(ct.jsx)("h3",{children:"Ingresa tus datos de env\xedo"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault(),j.items=h,O(xt("/api/orders/createorder/","POST",j,{SUCESS:Ae,REQUEST:Ne,FAIL:De}))},children:[Object(ct.jsxs)(ft.a.Group,{controlId:"country",children:[Object(ct.jsx)(ft.a.Label,{children:"Pa\xeds"}),Object(ct.jsx)(ft.a.Control,{name:"country",type:"text",placeholder:"Ingresa tu pa\xeds",value:j.country,onChange:f,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"city",children:[Object(ct.jsx)(ft.a.Label,{children:"Ciudad"}),Object(ct.jsx)(ft.a.Control,{name:"city",type:"text",placeholder:"Ingresa la ciudad",value:j.city,onChange:f,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"street",children:[Object(ct.jsx)(ft.a.Label,{children:"Calle"}),Object(ct.jsx)(ft.a.Control,{name:"street",type:"text",placeholder:"Ingresa la calle",value:j.street,onChange:f,required:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"zipcode",children:[Object(ct.jsx)(ft.a.Label,{children:"Cod\xedgo postal"}),Object(ct.jsx)(ft.a.Control,{name:"zipcode",type:"text",placeholder:"Ingresa tu cod\xedgo postal",value:j.zip,onChange:f,required:!0})]}),g&&Object(ct.jsx)(St,{variant:"danger",children:g}),m?Object(ct.jsx)(jt,{}):Object(ct.jsxs)(tt.a,{variant:"success",type:"submit",className:"mt-4",disabled:0===h.length,children:[Object(ct.jsx)("i",{class:"fas fa-truck-pickup"})," Pagar ahora!"]})]})]})]})}function Zt(e){var t=e.history,c=Object(o.b)(),r=Object(o.c)((function(e){return e.userLogin})).userInfo,n=Object(o.c)((function(e){return e.userList})),s=n.loading,i=n.error,l=n.users,d=Object(o.c)((function(e){return e.userDelete})),j=d.success,u=d.loading,b=d.error,O=Object(o.c)((function(e){return e.userUpdateProfile})),h=O.success,p=O.loading,x=O.error;return Object(a.useEffect)((function(){(null===r||void 0===r?void 0:r.isAdmin)?c(xt("/api/users/getusers/","GET",{},{SUCESS:T,FAIL:L,REQUEST:C})):t.push("/")}),[c,t,r,j,h]),Object(ct.jsx)(ot.a,{className:"mt-5",style:{minHeight:"80vh"},children:Object(ct.jsxs)("main",{children:[Object(ct.jsx)(ct.Fragment,{}),Object(ct.jsx)(nt.a,{children:Object(ct.jsx)(st.a,{children:Object(ct.jsx)("h1",{children:"Usuarios"})})}),Object(ct.jsxs)(nt.a,{children:[b&&Object(ct.jsx)(St,{variant:"danger",children:b}),j&&Object(ct.jsx)(St,{variant:"success",children:"Usuario eliminado correctamente"}),x&&Object(ct.jsx)(St,{variant:"danger",children:x}),h&&Object(ct.jsx)(St,{variant:"success",children:"Privilegios de usuario cambiados correctamente"}),s||u||p?Object(ct.jsx)(ot.a,{className:"container-hard",children:Object(ct.jsx)(jt,{})}):i?Object(ct.jsx)(ot.a,{className:"container-hard",children:Object(ct.jsx)(St,{variant:"danger",children:i})}):Object(ct.jsxs)(Qt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm mt-3",children:[Object(ct.jsx)("thead",{children:Object(ct.jsxs)("tr",{children:[Object(ct.jsx)("th",{children:"ID"}),Object(ct.jsx)("th",{children:"Nombre"}),Object(ct.jsx)("th",{children:"Email"}),Object(ct.jsx)("th",{children:"\xbfEs admin?"}),Object(ct.jsx)("th",{})]})}),Object(ct.jsx)("tbody",{children:null===l||void 0===l?void 0:l.map((function(e){return Object(ct.jsxs)("tr",{children:[Object(ct.jsx)("td",{children:e.id}),Object(ct.jsx)("td",{children:e.name}),Object(ct.jsx)("td",{children:e.email}),Object(ct.jsxs)("td",{children:[e.isAdmin?Object(ct.jsxs)("div",{children:[Object(ct.jsx)("i",{className:"fas fa-check",style:{color:"green"}})," ","   ",Object(ct.jsx)("span",{children:"Admin"})]}):Object(ct.jsxs)("div",{children:[Object(ct.jsx)("i",{className:"fas fa-times",style:{color:"red"}})," ","   ",Object(ct.jsx)("span",{children:"No Admin"})]}),Object(ct.jsx)(tt.a,{variant:"secondary",onClick:function(){return t=e.id,r=!e.isAdmin,void(window.confirm("\xbfEstas seguro de cambiar los privilegios de este usuario?")&&c(xt("/api/users/changeprivilegies/".concat(t,"/"),"PUT",{isAdmin:r},{SUCESS:G,FAIL:Q,REQUEST:Q})));var t,r},children:"Cambiar"})]}),Object(ct.jsx)("td",{children:Object(ct.jsx)(tt.a,{variant:"danger",className:"btn-sm",onClick:function(){return t=e.id,void(window.confirm("\xbfEstas seguro de eliminar este usuario?")&&c(xt("/api/users/deleteuser/".concat(t,"/"),"DELETE",{},{SUCESS:_,FAIL:N,REQUEST:U})));var t},children:Object(ct.jsx)("i",{className:"fas fa-trash"})})})]},e.id)}))})]})]})]})})}var Kt=["pedido","En camino","Entregado"];function Yt(e){var t=e.history,c=e.match.params.id,r=Object(o.b)(),n=Object(o.c)((function(e){return e.userLogin})).userInfo,s=Object(o.c)((function(e){return e.orderDetails})),i=s.loading,d=(s.error,s.success,s.order),j=s.items,u=Object(o.c)((function(e){return e.orderUpdate})),b=(u.loading,u.error),O=u.success,h=Object(a.useState)(),p=Object(vt.a)(h,2),x=p[0],m=p[1],g=function(){};return Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.isAdmin)?!n&&t.push("/"):(!n||(null===n||void 0===n?void 0:n.id)!=(null===d||void 0===d?void 0:d.idUser))&&t.push("/"),O?(r({type:$e}),r({type:Ge}),t.push("/admin/orders")):r(xt("/api/orders/getorder/".concat(c,"/"),"GET",{},{SUCESS:Fe,FAIL:Pe,REQUEST:we})),m(null===d||void 0===d?void 0:d.statusDeliver)}),[t,c]),Object(ct.jsxs)(nt.a,{style:{minHeight:"80vh",overflowX:"hidden"},children:[Object(ct.jsxs)(st.a,{md:6,className:"p-5",children:[Object(ct.jsx)("h4",{children:"Articulos comprados"}),i?Object(ct.jsx)(jt,{}):Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsx)($t.a,{variant:"flush",children:null===j||void 0===j?void 0:j.map((function(e){return Object(ct.jsx)($t.a.Item,{children:Object(ct.jsxs)(nt.a,{children:[Object(ct.jsx)(st.a,{md:2,children:Object(ct.jsx)(Lt.a,{src:null===e||void 0===e?void 0:e.img,alt:null===e||void 0===e?void 0:e.product,fluid:!0,rounded:!0})}),Object(ct.jsx)(st.a,{xl:3,children:Object(ct.jsx)(Ye.Link,{to:"/product/".concat(null===e||void 0===e?void 0:e.idProduct),children:null===e||void 0===e?void 0:e.product})}),Object(ct.jsxs)(st.a,{xl:2,children:["$",null===e||void 0===e?void 0:e.price," "]}),Object(ct.jsxs)(st.a,{xl:3,children:[e.qty,"X"]})]})},null===e||void 0===e?void 0:e.product)}))}),Object(ct.jsx)(at.a,{className:"mt-4 p-3",children:Object(ct.jsx)($t.a,{variant:"flush",children:Object(ct.jsxs)("h5",{children:["Total (",null===j||void 0===j?void 0:j.length,") productos ",Object(ct.jsx)("br",{}),"$",null===j||void 0===j?void 0:j.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]})})})]})]}),i?null:Object(ct.jsxs)(st.a,{md:6,className:"p-5",children:[Object(ct.jsx)("h3",{children:"Datos de env\xedo"}),O&&Object(ct.jsx)(St,{variant:"success",children:"Estatus de estrega actualizado"}),Object(ct.jsxs)(ft.a,{onSubmit:function(e){e.preventDefault(),r(xt("/api/orders/update/".concat(c,"/"),"PUT",{status:x||(null===d||void 0===d?void 0:d.statusDeliver)},{SUCESS:Be,FAIL:Me,REQUEST:Je}))},children:[Object(ct.jsxs)(ft.a.Group,{controlId:"country",children:[Object(ct.jsx)(ft.a.Label,{children:"Pa\xeds"}),Object(ct.jsx)(ft.a.Control,{name:"country",type:"text",placeholder:"Ingresa tu pa\xeds",value:null===d||void 0===d?void 0:d.country,onChange:g,required:!0,readOnly:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"city",children:[Object(ct.jsx)(ft.a.Label,{children:"Ciudad"}),Object(ct.jsx)(ft.a.Control,{name:"city",type:"text",placeholder:"Ingresa la ciudad",value:null===d||void 0===d?void 0:d.city,onChange:g,required:!0,readOnly:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"street",children:[Object(ct.jsx)(ft.a.Label,{children:"Calle"}),Object(ct.jsx)(ft.a.Control,{name:"street",type:"text",placeholder:"Ingresa la calle",value:null===d||void 0===d?void 0:d.street,onChange:g,required:!0,readOnly:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"zipcode",children:[Object(ct.jsx)(ft.a.Label,{children:"Cod\xedgo postal"}),Object(ct.jsx)(ft.a.Control,{name:"zipcode",type:"text",placeholder:"Ingresa tu cod\xedgo postal",value:null===d||void 0===d?void 0:d.zip,onChange:g,required:!0,readOnly:!0})]}),Object(ct.jsxs)(ft.a.Group,{controlId:"statusDeliver",children:[Object(ct.jsx)(ft.a.Label,{children:"Estatus de pago"}),(null===n||void 0===n?void 0:n.isAdmin)?Object(ct.jsx)(ft.a.Control,{name:"statusPay",as:"select",value:x||(null===d||void 0===d?void 0:d.statusDeliver),onChange:function(e){return m(e.target.value)},children:Kt.map((function(e){return Object(ct.jsx)("option",{value:e,selected:e===(null===d||void 0===d?void 0:d.statusDeliver),children:e.charAt(0).toUpperCase()+e.slice(1)})}))}):Object(ct.jsx)(ft.a.Control,Object(l.a)({name:"statusPay",value:null===d||void 0===d?void 0:d.zip,onChange:g,required:!0,readOnly:!0},"value",(null===d||void 0===d?void 0:d.statusDeliver.charAt(0).toUpperCase())+(null===d||void 0===d?void 0:d.statusDeliver.slice(1))))]}),b&&Object(ct.jsx)(St,{variant:"danger",children:b}),(null===n||void 0===n?void 0:n.isAdmin)?Object(ct.jsx)(tt.a,{variant:"success",type:"submit",className:"mt-4",children:"Actualizar"}):null]})]})]})}function ec(e){var t=e.history,c=Object(o.c)((function(e){return e.userLogin})).userInfo,r=Object(o.b)(),n={name:null===c||void 0===c?void 0:c.name,lastName:null===c||void 0===c?void 0:c.lastName,email:null===c||void 0===c?void 0:c.email,password:null===c||void 0===c?void 0:c.password},s=Object(o.c)((function(e){return e.orderList})),i=s.orders,l=s.loading,d=s.error,j=(s.success,Object(a.useState)(n)),u=Object(vt.a)(j,2),b=u[0],O=(u[1],b.name,b.lastName,b.email,b.password,Object(a.useState)("")),h=Object(vt.a)(O,2),p=(h[0],h[1],Object(o.c)((function(e){return e.userUpdate}))),x=(p.loading,p.error,p.success);p.user;return Object(a.useEffect)((function(){!(null===c||void 0===c?void 0:c.isAdmin)&&t.push("/"),r(xt("/api/orders/getorders/","GET",{},{SUCESS:qe,REQUEST:Qe,FAIL:ze}))}),[t,r,x,c]),Object(a.useEffect)((function(){}),[t,r]),Object(ct.jsx)(ct.Fragment,{children:Object(ct.jsx)(nt.a,{style:{minHeight:"100vh",overflowX:"hidden"},children:Object(ct.jsx)(st.a,{className:"p-5",children:l?Object(ct.jsx)(jt,{}):d?Object(ct.jsx)(St,{variant:"danger",children:d}):Object(ct.jsxs)(ct.Fragment,{children:[" ",Object(ct.jsx)("h2",{children:"Mis pedidos"}),Object(ct.jsxs)(Qt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm mt-3",children:[Object(ct.jsx)("thead",{children:Object(ct.jsxs)("tr",{children:[Object(ct.jsx)("th",{children:"ID"}),Object(ct.jsx)("th",{children:"Pa\xeds"}),Object(ct.jsx)("th",{children:"Ciudad"}),Object(ct.jsx)("th",{children:"Calle"}),Object(ct.jsx)("th",{children:"Zipcode"}),Object(ct.jsx)("th",{children:"Status envio"}),Object(ct.jsx)("th",{children:"Status pago"}),Object(ct.jsx)("th",{})]})}),Object(ct.jsx)("tbody",{children:null===i||void 0===i?void 0:i.map((function(e){return Object(ct.jsxs)("tr",{children:[Object(ct.jsx)("td",{children:e.id}),Object(ct.jsx)("td",{children:e.country}),Object(ct.jsx)("td",{children:e.city}),Object(ct.jsx)("td",{children:e.street}),Object(ct.jsx)("td",{children:e.zip}),Object(ct.jsx)("td",{children:e.statusDeliver}),Object(ct.jsx)("td",{children:e.statusPay}),Object(ct.jsx)("td",{children:Object(ct.jsx)(tt.a,{variant:"info",onClick:function(){return t.push("/order/".concat(e.id))},children:Object(ct.jsx)("i",{className:"fas fa-eye"})})})]},e.id)}))})]})]})})})})}function tc(e){var t=e.match,c=(e.location,e.history),r=t.params.search,n=Object(o.b)(),s=Object(o.c)((function(e){return e.productSearch})),i=s.loading,l=s.products,d=(s.error,Object(o.c)((function(e){return e.userLogin})).userInfo);return Object(a.useEffect)((function(){n(xt("/api/products/search/".concat(r,"/"),"GET",{},{SUCESS:ce,FAIL:re,REQUEST:te}))}),[d,c,r]),Object(ct.jsx)(ct.Fragment,{children:i?Object(ct.jsx)(ot.a,{className:"container-hard",children:Object(ct.jsx)(jt,{})}):0===(null===l||void 0===l?void 0:l.length)?Object(ct.jsxs)(ot.a,{style:{height:"70vh"},children:[Object(ct.jsxs)("h3",{className:"mt-3 border-top border-warning border-3 pt-2 rounded",children:["Resultados para ",r]}),Object(ct.jsx)(St,{variant:"warning",children:"No hay productos disponibles para esa b\xfasqueda"})]}):Object(ct.jsxs)(ot.a,{className:"",children:[Object(ct.jsxs)("h3",{className:"mt-3 border-top border-warning border-3 pt-2 rounded",children:["Resultados para ",r]}),Object(ct.jsx)(lt,{products:l})]})})}var cc=c(134),rc=c(137),ac=c(132),nc=c(79);function sc(e){var t=Object(o.b)(),c=Object(o.c)((function(e){return e.userLogin})).userInfo,r=Object(o.c)((function(e){return e.cart})).cartItems,n=Object(o.c)((function(e){return e.categorieList})),s=(n.loadingCat,n.categories),i=(n.errorCat,Object(a.useState)("")),l=Object(vt.a)(i,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){t(xt("/api/categories/getcategories/","GET",{},{SUCESS:Ee,FAIL:Se,REQUEST:fe}))}),[c,e]),Object(ct.jsx)(cc.a,{sticky:"top",bg:"light",collapseOnSelect:!0,expand:"lg",className:"text-warning",style:{fontWeight:"bold"},children:Object(ct.jsxs)(ot.a,{children:[Object(ct.jsx)(kt.LinkContainer,{to:"/",children:Object(ct.jsx)(cc.a.Brand,{children:Object(ct.jsx)("img",{height:"50",className:"d-inline-block align-top",src:"https://res.cloudinary.com/jordiespinoza/image/upload/v1624151602/2_yo0yx8.png"})})}),Object(ct.jsx)(cc.a.Toggle,{"aria-controls":"navbar1"}),Object(ct.jsxs)(cc.a.Collapse,{id:"navbar1",children:[Object(ct.jsxs)(rc.a,{className:"me-auto",children:[Object(ct.jsx)(kt.LinkContainer,{to:"/",children:Object(ct.jsxs)(rc.a.Link,{children:[Object(ct.jsx)("i",{class:"fas fa-home"}),"Inicio"]})}),Object(ct.jsx)(kt.LinkContainer,{to:"/products/",children:Object(ct.jsxs)(rc.a.Link,{children:[" ",Object(ct.jsx)("i",{class:"fas fa-shopping-basket"})," Tienda"]})}),Object(ct.jsx)(ac.a,{title:"Categorias",id:"collasible-nav-dropdown",children:null===s||void 0===s?void 0:s.map((function(e){return Object(ct.jsx)(kt.LinkContainer,{to:"/categories/".concat(e.name),children:Object(ct.jsx)(ac.a.Item,{children:e.name})})}))})]}),Object(ct.jsxs)(rc.a,{children:[Object(ct.jsxs)(ft.a,{onSubmit:function(e){return e.preventDefault()},className:"d-flex",children:[Object(ct.jsx)(nc.a,{type:"search",placeholder:"Busca un articulo",className:"mr-3","aria-label":"Search",value:d,onChange:function(e){return j(e.target.value)}}),Object(ct.jsx)(Ye.Link,{to:"/searchproducts/".concat(d),children:Object(ct.jsx)(tt.a,{variant:"warning",children:Object(ct.jsx)("i",{class:"fas fa-search"})})})]}),c?Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsxs)(ac.a,{title:"Cuenta",children:[Object(ct.jsx)(kt.LinkContainer,{to:"/profile",children:Object(ct.jsx)(ac.a.Item,{children:"Perfil"})}),Object(ct.jsx)(ac.a.Item,{onClick:function(){return t({type:m})},children:"Logout"})]}),c.isAdmin&&Object(ct.jsxs)(ac.a,{title:"Admin",children:[Object(ct.jsx)(kt.LinkContainer,{to:"/admin/products/",children:Object(ct.jsx)(ac.a.Item,{children:"Productos"})}),Object(ct.jsx)(kt.LinkContainer,{to:"/admin/categories/",children:Object(ct.jsx)(ac.a.Item,{children:"Categorias"})}),Object(ct.jsx)(kt.LinkContainer,{to:"/admin/users/",children:Object(ct.jsx)(ac.a.Item,{children:"Usuarios"})}),Object(ct.jsx)(kt.LinkContainer,{to:"/admin/orders/",children:Object(ct.jsx)(ac.a.Item,{children:"Ordenes"})})]}),Object(ct.jsx)(kt.LinkContainer,{to:"/cart",children:Object(ct.jsxs)(rc.a.Link,{children:[Object(ct.jsx)("i",{className:"fas fa-shopping-cart"}),Object(ct.jsx)("span",{className:"cart-counter",children:void 0==r?0:r.length})]})})]}):Object(ct.jsx)(kt.LinkContainer,{to:"/login",children:Object(ct.jsxs)(rc.a.Link,{children:[Object(ct.jsx)("i",{className:"fas fa-user"})," Login"]})})]})]})]})})}function ic(){var e;return Object(ct.jsx)("footer",{className:"bg-warning text-light d-flex align-items-center w-100 flex-column p-4",children:Object(ct.jsxs)(nt.a,{children:[Object(ct.jsxs)(st.a,{className:"text-light",md:6,children:[Object(ct.jsx)("h4",{className:"text-light",children:"Sobre el proyecto"}),Object(ct.jsx)("span",{children:"El fin de este proyecto es crear una p\xe1gina web que permita el registro de usuarios, as\xed como de su ingreso a la p\xe1gina para poder realizar compras por internet, Se desplegar\xe1n algunas pantallas que formar\xe1n parte de la interfaz de usuario. Asimismo se ver\xe1n los art\xedculos que el cliente pueda comprar y agregar al carrito de compras."})]}),Object(ct.jsxs)(st.a,(e={md:6,className:"text-light"},Object(l.a)(e,"className","text-light"),Object(l.a)(e,"children",[Object(ct.jsx)("h4",{className:"text-light",children:"Links rapidos"}),Object(ct.jsxs)("div",{style:{fontSize:"14px",color:"#fff"},children:[Object(ct.jsx)("p",{className:"text-light",children:Object(ct.jsx)(Ye.Link,{to:"/",className:"text-light",children:"Inicio"})}),Object(ct.jsx)("p",{className:"text-light",children:Object(ct.jsx)(Ye.Link,{to:"/products",className:"text-light",children:"Productos"})}),Object(ct.jsx)("p",{className:"text-light",children:Object(ct.jsx)(Ye.Link,{to:"/register",className:"text-light",children:"Registro"})}),Object(ct.jsx)("p",{className:"text-light",children:Object(ct.jsx)(Ye.Link,{to:"/login",className:"text-light",children:"Login"})})]})]),e))]})})}function oc(){var e=Object(et.l)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}c(120);var lc=function(){return Object(ct.jsxs)(Ye.HashRouter,{children:[Object(ct.jsx)(sc,{}),Object(ct.jsx)(oc,{}),Object(ct.jsx)(et.d,{path:"/",component:gt,exact:!0}),Object(ct.jsx)(et.d,{path:"/register/",component:yt,exact:!0}),Object(ct.jsx)(et.d,{path:"/login/",component:Gt,exact:!0}),Object(ct.jsx)(et.d,{path:"/profile/",component:qt,exact:!0}),Object(ct.jsx)(et.d,{path:"/product/:idProduct/",component:At,exact:!0}),Object(ct.jsx)(et.d,{path:"/products/",component:Dt,exact:!0}),Object(ct.jsx)(et.d,{path:"/categories/:name/",component:Bt,exact:!0}),Object(ct.jsx)(et.d,{path:"/admin/categories/",component:Mt,exact:!0}),Object(ct.jsx)(et.d,{path:"/admin/categories/edit/:id/",component:zt,exact:!0}),Object(ct.jsx)(et.d,{path:"/admin/categories/register/",component:Jt,exact:!0}),Object(ct.jsx)(et.d,{path:"/admin/products/register/",component:Tt,exact:!0}),Object(ct.jsx)(et.d,{path:"/admin/products/edit/:id/",component:Rt,exact:!0}),Object(ct.jsx)(et.d,{path:"/admin/orders/",component:ec,exact:!0}),Object(ct.jsx)(et.d,{path:"/admin/products/",component:Ft,exact:!0}),Object(ct.jsx)(et.d,{path:"/admin/users/",component:Zt,exact:!0}),Object(ct.jsx)(et.d,{path:"/cart/:id?",component:Vt}),Object(ct.jsx)(et.d,{path:"/order/:id?",component:Yt}),Object(ct.jsx)(et.d,{path:"/searchproducts/:search?",component:tc}),Object(ct.jsx)(ic,{})]})},dc=(c(121),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,139)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))});i.a.render(Object(ct.jsx)(o.a,{store:Ke,children:Object(ct.jsx)(lc,{})}),document.getElementById("root")),dc()},89:function(e,t,c){}},[[122,1,2]]]);
//# sourceMappingURL=main.ec78d70e.chunk.js.map